let lockScroll=!1,projectsLocked=!0;function unlockProjects(){document.querySelector(".projects").classList.add("js-display-block-important"),projectsLocked=!1}function mobileScrollFix(){if(window.matchMedia("(any-pointer: coarse)").matches){let e=document.querySelector(".scroll-arrow"),o=document.querySelector(".scroll-bottom-fade");e.classList.add("js-arrow-rotate-bg"),o.classList.add("js-scroll-bottom-fade"),setTimeout(()=>{e.classList.remove("js-arrow-rotate-bg"),o.classList.remove("js-scroll-bottom-fade")},650)}}window.addEventListener("scroll",()=>{!lockScroll&&window.innerHeight+Math.round(window.scrollY)>=document.body.offsetHeight-100&&(projectsLocked?unlockProjects():(unlockSections(),lockScroll=!0))});const checkBoxLabel=document.querySelectorAll("label.js-checkbox-keyboard"),modalBoxes=document.querySelectorAll(".js-modal-label"),modalClose=document.querySelectorAll("label.js-modal-close");let modalActive=!1,firstFocusableElement=null,focusableContent=null,lastFocusableElement=null;function removeFocus(){document.body.classList.remove("js-modal-focus"),modalActive=!1,firstFocusableElement=null,focusableContent=null,lastFocusableElement=null}function handleToggle(e){if("Enter"===e.key){let o=document.getElementById(this.htmlFor);if(o.checked=!o.checked,modalActive){let l=this.classList;for(let t of l)if("js-modal-close"===t){setTimeout(()=>{removeFocus()},50);break}}}}function keyRemoveFocus(e){"Escape"===e.key&&removeFocus()}function catchFocus(e){modalActive="click"===e.type?this.htmlFor:e.htmlFor,document.body.classList.add("js-modal-focus");let o="button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])",l=document.querySelector(`#${modalActive}~ .modal-container`);(firstFocusableElement=l.querySelectorAll(o)).forEach(e=>{e.classList.value&&e.classList.forEach(o=>{"js-modal-close"===o&&(firstFocusableElement=e)})}),lastFocusableElement=(focusableContent=l.querySelectorAll(o))[focusableContent.length-1]}function keyCatchFocus(e){"Enter"===e.key&&catchFocus(this)}document.addEventListener("keydown",e=>{if(modalActive&&"Escape"===e.key){let o=!(e.ctrlKey||e.altKey||e.shiftKey);if(o){let l=document.getElementById(modalActive);l.checked=!1,removeFocus()}}}),checkBoxLabel.forEach(e=>{e.addEventListener("keydown",handleToggle)}),modalBoxes.forEach(e=>{e.addEventListener("keydown",keyCatchFocus),e.addEventListener("click",catchFocus)}),modalClose.forEach(e=>{e.addEventListener("keydown",keyRemoveFocus),e.addEventListener("click",removeFocus)}),document.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===firstFocusableElement&&(lastFocusableElement.focus(),e.preventDefault()):document.activeElement===lastFocusableElement&&(firstFocusableElement.focus(),e.preventDefault()))}),document.body.classList.remove("no-js");let sectionsLocked=!0;function unlockSections(){sectionsLocked&&(document.body.classList.remove("js-sections"),document.querySelector("section.about-me img.wheel-icon").classList.add("js-remove-item"),sectionsLocked=!1,lockScroll=!0)}